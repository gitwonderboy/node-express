(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["messages"],{eaad:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Mobile",[a("div",{staticClass:"events page"},[a("v-card",{attrs:{flat:""}},[a("v-app-bar",{attrs:{app:"",dark:"",color:"#0e0e11"}},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:t.back}},[a("v-icon",{staticClass:"font-weight-bold"},[t._v("mdi-chevron-left")])],1),a("v-toolbar-title",[t._v("MESSAGES")]),a("v-spacer"),t.user?a("v-toolbar-items",[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mt-4",attrs:{icon:"",dark:""}},"v-btn",n,!1),s),[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-plus")])],1)]}}],null,!1,1805681699),model:{value:t.sendDialog,callback:function(e){t.sendDialog=e},expression:"sendDialog"}},[a("v-card",[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Send Message")])]),a("v-divider"),a("v-card-text",[a("v-text-field",{attrs:{name:"title",label:"Title",autocomplete:"off",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-textarea",{attrs:{outlined:"",name:"message",label:"Message",autocomplete:"off",required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("v-card-actions",[a("v-spacer"),a("div",{staticClass:"add-event mr-4"},[a("button",{staticClass:"btn"},[t._v("Save")])]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.sendDialog=!1}}},[t._v("Close")])],1)],1)])],1)],1)],1):t._e()],1),a("Header"),a("v-row",{attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"8"}},[a("v-card",{staticClass:"mb-10",attrs:{elevation:"0"}},[a("v-list",{attrs:{subheader:"","two-line":""}},[a("v-text-field",{staticClass:"mx-2 mt-5",attrs:{"append-icon":"mdi-magnify",label:"Search",rounded:"",solo:"","single-line":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.data.length?t._e():a("div",[a("Empty")],1),t._l(t.filter,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-avatar",[a("v-icon",{attrs:{color:"blue"}},[t._v("mdi-android-messages")])],1),a("v-list-item-content",{on:{click:function(a){return t.readMessage(e.id,e.created,e.message,e.title)}}},[a("v-list-item-title",{staticClass:"font-weight-medium text-capitalize"},[t._v(t._s(e.title)+" ")]),a("v-list-item-subtitle",{staticClass:"primary--text"},[t._v(t._s(e.message))]),a("v-list-item-subtitle",{staticClass:"mt-1"},[a("span",[t._v(" "+t._s(t.formatDistance(new Date(e.created),new Date))+" ago ")]),a("span",{staticClass:"ml-5"},[a("v-icon",{attrs:{color:"#610018",size:"16"}},[t._v("mdi-comment-eye-outline")]),t._v(" views: ")],1)])],1),t.user?a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.deleteMessage(e)}}},[a("v-icon",{attrs:{color:"#610018"}},[t._v("mdi-delete-outline")])],1)],1):t._e()],1)}))],2)],1)],1)],1)],1)],1)])},n=[],r=a("1da1"),i=(a("96cf"),a("ac1f"),a("841c"),a("4de4"),a("4e84")),o=a("0418"),c=a("02bc"),l=a("032d"),u=a("bc3a"),d=a.n(u),m=a("1556"),v={name:"Messages",data:function(){return{formatDistance:m["a"],data:[],title:"",message:"",search:"",user:"",err:null,sendDialog:!1,messageDialog:!0}},components:{Mobile:i["a"],Header:o["a"],Empty:c["a"]},computed:{filter:function(){var t=this.search.toLowerCase();return t?this.data.filter((function(e){var a=e.get("title").toLowerCase();return a.indexOf(t)>-1})):this.data}},created:function(){var t=this;l["a"].onAuthStateChanged((function(e){t.user=e||null})),this.getData()},methods:{save:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=new FormData,a.append("title",t.title),a.append("message",t.message),d.a.post("http://localhost:8888/seaviewprimary/src/api/api.php?action=addMessage",a).then((function(e){t.title="",t.message="",t.getData(),e.data.error&&console.log(e.data)})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.a.post("http://localhost:8888/seaviewprimary/src/api/api.php?action=getMessage").then((function(e){console.log(e.data.user_Data),t.data=e.data.user_Data})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},deleteMessage:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},readMessage:function(t,e,a,s){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n.$router.push({name:"Message",params:{id:t,title:s,message:a,created:e}});case 1:case"end":return r.stop()}}),r)})))()},back:function(){window.history.back()}}},p=v,f=a("2877"),g=a("6544"),h=a.n(g),b=a("40dc"),w=a("8336"),_=a("b0af"),k=a("99d9"),x=a("62ad"),V=a("169a"),C=a("ce7e"),D=a("132d"),y=a("8860"),M=a("da13"),S=a("1800"),L=a("8270"),R=a("5d23"),T=a("0fd9"),I=a("2fa4"),j=a("8654"),A=a("a844"),O=a("2a7f"),E=Object(f["a"])(p,s,n,!1,null,null,null);e["default"]=E.exports;h()(E,{VAppBar:b["a"],VBtn:w["a"],VCard:_["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCol:x["a"],VDialog:V["a"],VDivider:C["a"],VIcon:D["a"],VList:y["a"],VListItem:M["a"],VListItemAction:S["a"],VListItemAvatar:L["a"],VListItemContent:R["a"],VListItemSubtitle:R["b"],VListItemTitle:R["c"],VRow:T["a"],VSpacer:I["a"],VTextField:j["a"],VTextarea:A["a"],VToolbarItems:O["a"],VToolbarTitle:O["b"]})}}]);
//# sourceMappingURL=messages.82f31e1b.js.map